<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ðŸ”¥ Restaurant: View</title>
  <!-- Linking Tachyon CSS -->
  <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />
</head>

<body class="sans-serif">
  <!-- Header -->
  <article class="mw7 center ph3 ph5-ns tc pv5 bg-light-gray off-black mb2">
    <h1 class="fw6 f3 f2-ns lh-title mt0 mb3">
      ðŸ”¥ Hot Restaurant ðŸ”¥
    </h1>
    <div>
      <a class="f6 br-pill bg-blue no-underline white grow pv2 ph3 dib mr3" href="/add">
        Make Reservation
      </a>
    </div>
  </article>
  <!-- Current Reservations -->
  <section class="center mw7 hidden ba b--black-10 mb2">
    <h1 class="f4 bg-near-white br--top black-60 mv0 pv2 ph3">Current Reservations</h1>
    <div class="pa3 bt b--black-10">
      <ul id="reservationSection" class="f6 f5-ns ml0 list lh-copy">
      </ul>
    </div>
  </section>
  <!-- Wait List -->
  <section class="center mw7 hidden ba b--black-10 mb2">
    <h1 class="f4 bg-near-white br--top black-60 mv0 pv2 ph3">Waiting List</h1>
    <div class="pa3 bt b--black-10">
      <ul id="waitlistSection" class="f6 f5-ns ml0 list lh-copy">
      </ul>
    </div>
  </section>
  <!-- Control Panel -->
  <section class="center mw7 hidden pv4 mb2">
    <nav>
      <a href="#" class="link">Clear Table</a> | <a href="#" class="link">API Table Link</a> | <a href="#"
        class="link">API Wait List</a>
    </nav>
  </section>
  <script>
    fetch("/api/add")
    .then(response => response.json())
    .then(data => {
      let reservations = document.querySelector("#reservationSection");
      let count = 1;
      let waitlist = document.querySelector("#waitlistSection");
      let count2 = 1;
      for (let res of data) {
        if (count < 6) {
          console.log(res);
          reservations.insertAdjacentHTML("beforeend", `<li class="mv4"><span class="br-pill mr3 ph3 pv1 bg-blue white">${count}</span> ${res.name}</li>`);
          count++;
        } else {
          console.log(res);
          waitlist.insertAdjacentHTML("beforeend", `<li class="mv4"><span class="br-pill mr3 ph3 pv1 bg-blue white">${count2}</span> ${res.name}</li>`);
          count2++
        }
      }
    })
  </script>
</body>

</html>