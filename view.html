<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>ğŸ”¥ Restaurant: View</title>
  <!-- Linking Tachyon CSS -->
  <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />
</head>

<body class="mh4 mt4 ma0-ns sans-serif">
  <!-- Header -->
  <article class="mw7 center ph3 ph5-ns tc pv5 bg-light-gray off-black">
    <h1 class="fw6 f3 f2-ns lh-title mt0 mb3">
      ğŸ”¥ Hot Restaurant ğŸ”¥
    </h1>
    <div>
      <a class="f6 br-pill bg-blue no-underline white grow pv2 ph3 dib mr3" href="/add">
        Make Reservation
      </a>
    </div>
  </article>
  <!-- Current Reservations -->
  <section class="center mw7 hidden ba b--black-10">
    <h1 class="f4 bg-near-white br--top black-60 mv0 pv2 ph3">Current Reservations</h1>
    <div class="pa3 bt b--black-10">
      <ul id="reservations" class="f6 f5-ns pl1 list lh-copy">
        <!-- <li class="mv4"><span class="br-pill mr3 ph3 pv1 bg-blue white">1</span> Name</li> -->
      </ul>
    </div>
  </section>
  <!-- Wait List -->
  <section class="center mw7 hidden bb br bl b--black-10">
    <h1 class="f4 bg-near-white br--top black-60 mv0 pv2 ph3">Waiting List</h1>
    <div class="pa3 bt b--black-10">
      <ul id="waitlist" class="f6 f5-ns pl1 list lh-copy">
        <!-- <li class="mv4"><span class="br-pill mr3 ph3 pv1 bg-blue white">1</span> Name</li> -->
      </ul>
    </div>
  </section>
  <!-- Control Panel -->
  <section class="center mw7 hidden pv4 mb2">
    <p class="tc f6">
      <a href="#" class="link blue">Clear Table</a> | <a href="/api/table" class="link blue">API Table Link</a> | <a
        href="/api/waitlist" class="link blue">API Wait List</a>
    </p>
  </section>
  <script>
    fetch('/api/table', {
      method: 'get',
      headers: {
        'Content-Type': 'application/json'
      }
    })
      .then(response => response.json())
      .then(data => {
        let ul = document.querySelector('#reservations')
        data.forEach(item => {
          let li = document.createElement('li')
          let span = document.createElement('span')
          li.classList.add('mv4')
          span.classList.add('br-pill', 'mr3', 'ph3', 'pv1', 'bg-blue', 'white')
          span.innerText = item.uid
          li.append(span)
          li.append(item.name)
          ul.append(li)
        })
      })
  </script>
</body>

</html>